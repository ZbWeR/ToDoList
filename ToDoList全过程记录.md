# ToDoList全过程记录

## 设计阶段

### 1.功能设计

#### 待办事项的细分

待办事项通常具有不同的场景,需要先进行类型的划分.~~例如一两句话即可说清楚的事项"出门前倒垃圾",再例如文字内容较多的详细事项"回家的路上帮女朋友带一杯黄金真奶要全糖去冰,再带一份手抓饼,要鸡蛋热狗里脊",对于这两种情况,我们将其命名为**短文本**和**长文本**.再~~

例如有的事项可能有一两周的时间去完成,而有的事项需要一两天内完成,我们将这两种情况归纳为**短期待办**和**长期待办**.事项本身可能是与学习相关,与工作相关,根据相关性我们将不同事项分为**生活,学习和工作**三种.

综上，新增待办时我们要让用户明确待办的类型(这决定了待办事项的展示效果)，具体待办内容和待办截止日期(可选).

**不同类型展示效果**

| 类型              |                           展示效果                           |
| ----------------- | :----------------------------------------------------------: |
| ~~长文本/短文本~~ | ~~均采用块状盒子的方式显示.<br>短文本显示内容,DDL,长短期类型<br>长文本仅显示内容,最长字数待定,超出字数则隐藏~~ |
| 短期 / 长期       | 1.默认情况:长期短期两个模块分开显示,短期在长期之上<br>2.设置精确DDL时:长期任务在ddl前2天变成短期任务并标红. |
| 生活/学习/工作    |         颜色色相依次对应:黄/绿/蓝(具体颜色取值待定)          |

#### 待办的增删查改

**预期效果**

1. 增加: 点击**新建**(+)启动增加待办模块,用户选择【短期/长期】【生活/学习/工作】,填写具体内容，选填DDL,即可生成待办.
2. 删除/修改: 点击**设置**进入管理模式,所有待办右侧出现**删除和编辑**两个选项,点击删除然后二次确认即可.
3. 查找: 不考虑增加该功能.

**其他想法**

采用类似终端输入的方法,放置一个输入框在整个页面上方,输入不同的指令来完成**增删改**的功能.

1. 增加

   例如`add -s -study -[DDL] content `表示添加一个短期学习待办.`DDL`的格式限制为`year.month.day`.

   其他参数说明:`-s/l`short短期/long长期 ;`-study/life/work`分别对应学习生活工作.

   带有`-`的参数均可选,默认值为 短期生活无DDL 待办.

2. 删除:`del -s/l index`表示删除编号为index的短期/长期待办. 增加待办后会自动给待办事项编号,显示在待办左侧.

3. 修改:`set -s/l index -s/l -study -[DDL] content`表示修改编号为index的短期/长期待办,其他参数与增加时相同.

### 2.UI设计

网页端：预期采用Flex布局,移动端表现为上下排列.

![image-20230119220619209](C:\Users\zbwer\AppData\Roaming\Typora\typora-user-images\image-20230119220619209.png)

最终**增删改查**的实现: 

+ 直接在输入框中输入待办事项回车,弹窗如下,进行具体设置即可实现增加操作.
+ 对于删除操作,点击待办左侧的小圆圈即可除法删除操作,第一天变为灰色,第二天自动抹去.
+ 对于更改操作,点击待办进入类似与下图弹窗的**待办详情**,即可重新修改.

![image-20230119220808365](C:\Users\zbwer\AppData\Roaming\Typora\typora-user-images\image-20230119220808365.png)

## 代码阶段

### 前置学习

1. js 中遮罩层的实现：点击遮罩层非内容部分关闭(event.target),阻止事件冒泡(Event.stopPropagation)
2. js 中本地持久化存储: localStorage 如何保存json格式的数据.
3. 
